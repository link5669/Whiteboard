(this["webpackJsonpwhiteboard-app"]=this["webpackJsonpwhiteboard-app"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(7),a=n.n(c),i=n(19),o=n.n(i),r=(n(25),n(1)),s=n(3),l=(n(26),n(4));function j(e){var t=e.setToolType;return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{title:"Pencil",onClick:function(){t("pencil")},children:"Pencil"}),Object(l.jsx)("button",{title:"Eraser",onClick:function(){t("eraser")},children:"Eraser"})]})})})})}var u=n(20),d=n(36);u.a.generator();var h=function(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}};var b=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),o=Object(s.a)(i,2),u=o[0],b=o[1],v=Object(c.useState)([]),O=Object(s.a)(v,2),g=O[0],p=O[1],f=Object(c.useState)("none"),m=Object(s.a)(f,2),x=m[0],y=m[1],w=Object(c.useState)("pencil"),C=Object(s.a)(w,2),E=C[0],k=C[1],S=Object(c.useState)(""),T=Object(s.a)(S,2),B=T[0],I=T[1],X=Object(c.useState)(""),Y=Object(s.a)(X,2),q=Y[0],D=Y[1],M=Object(c.useState)(!1),P=Object(s.a)(M,2),N=P[0],A=P[1],F=Object(c.useState)({}),H=Object(s.a)(F,2),J=H[0],W=H[1];return Object(c.useEffect)((function(){for(var e=0;e<J.length;e++){var t=document.getElementById(J[e].name);if(null==t)return;var n=t.getContext("2d");n.lineCap=5,n.moveTo(J[e].points[0].clientX,J[e].points[0].clientY),n.beginPath();for(var c=0;c<J[e].points.length;c++){var a=J[e].points[c].clientX/J.length,i=J[e].points[c].clientY/J.length,o=h(a,i);n.quadraticCurveTo(a,i,o.x,o.y),n.lineTo(a,i),n.stroke()}}}),[J]),N?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(){d.a.get("http://:3214/getData").then((function(e){var t=[];Object.entries(e.data).forEach((function(e){var n=Object(s.a)(e,2),c=n[0],a=n[1];console.log(c),t.push(a)})),console.log(t),W(t)}))},children:"Fetch"}),Object(l.jsx)("button",{onClick:function(){d.a.post("http://server.milesacq.com:3214/eraseData").then((function(){d.a.get("http://server.milesacq.com:3214/getData").then((function(e){var t=[];Object.entries(e.data).forEach((function(e){var n=Object(s.a)(e,2),c=n[0],a=n[1];console.log(c),t.push(a)})),console.log(t),W(t)}))}))},children:"Erase data"}),J.length>0&&J.map((function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsx)("canvas",{id:e.name,className:"App",width:window.innerWidth/J.length,height:window.innerHeight/J.length,children:"Canvas"})]},e.name)}))]}):q?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)(j,{setToolType:k})}),Object(l.jsx)("canvas",{id:"canvas",className:"App",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){console.log(E);var t=e.clientX,n=e.clientY,c=document.getElementById("canvas").getContext("2d");if("pencil"===E){y("sketching"),b(!0);var i={clientX:t,clientY:n,transparency:"1.0"};p((function(e){return[].concat(Object(r.a)(e),[i])})),c.lineCap=5,c.moveTo(t,n),c.beginPath()}else if("eraser"===E){y("erasing");var o=document.getElementById("canvas");o.getContext("2d").clearRect(0,0,o.width,o.height),p([]),a([])}},onMouseMove:function(e){var t=document.getElementById("canvas").getContext("2d"),n=e.clientX,c=e.clientY;if("sketching"===x){if(!u)return;var a={clientX:n,clientY:c,transparency:g[g.length-1].transparency};p((function(e){return[].concat(Object(r.a)(e),[a])}));var i=h(n,c);t.quadraticCurveTo(n,c,i.x,i.y),t.lineTo(n,c),t.stroke()}},onMouseUp:function(){if("sketching"===x){document.getElementById("canvas").getContext("2d").closePath();p([]),b(!1),console.log(n),"monitor"!==q&&d.a.post("http://server.milesacq.com:3214/appendData",{name:q,points:g})}else y("erasing"),a([]);y("none")},children:"Canvas"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Enter your name:"}),Object(l.jsx)("input",{onChange:function(e){I(e.target.value)}}),Object(l.jsx)("button",{onClick:function(){"monitor"===B?A(!0):D(B)},children:"Submit"})]})};n(33);o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b447f711.chunk.js.map